import java.util.ArrayList;
import java.util.Scanner;

public class BookMain {
	Scanner sc = new Scanner(System.in);
	BookDao bdao = new BookDao();
	
	public BookMain() {
		init();
	}
	
	private void init() {
		while(true) {
			System.out.println("=== 메뉴 선택하기 ===");
			System.out.println("1.전체 정보 조회");
			System.out.println("2.조건 조회");
			System.out.println("6.프로그램 종료");
			System.out.println(">>메뉴 번호 선택");
			int menu = sc.nextInt();
			switch(menu) {
				case 1:
					ArrayList<BookBean> lists = bdao.getAllBook();
					showBook(lists);
					break;
				case 2:
					getBookBySearch();
					break;
				case 6: 
					System.out.println("프로그램을 종료합니다");
					System.exit(0);
				default : System.out.println("1~6 입력 가능");
				
			} // switch
		} // while
	} // init

	private void getBookBySearch() {
		System.out.print("제목:1  저자:2  출판사:3  번호입력>>");
		int search_num = sc.nextInt();
		String column = null;
		switch(search_num) {
		case 1 : 
			System.out.print("조회할 제목 :");
			column="title";
			break;
		case 2 : 
			System.out.print("조회할 저자 :");
			column="author";
			break;
		case 3 : 
			System.out.print("조회할 출판사 :");
			column="publisher";
			break;
		default : break;
		}
		
		String search_word = sc.next(); // 정 출판
		ArrayList<BookBean> lists = bdao.getBookBySearch(column,search_word);// title,리  
		showBook(lists);
		
	}//getBookBySearch
	
	public void showBook(ArrayList<BookBean> lists) {
		System.out.println("번호\t제목\t저자\t출판사\t가격\t출판일");
		for (int i=0;i<lists.size();i+=1) {
			BookBean bb = lists.get(i);
			System.out.println(bb.getNo() + "\t" + bb.getTitle() +  "\t"  +  bb.getAuthor() + "\t" + bb.getPublisher() + "\t" + bb.getPrice() + "\t" + bb.getPub_day() );
		}
	} // showBook
	
	public static void main(String[] args) {
		new BookMain();
	}

}
